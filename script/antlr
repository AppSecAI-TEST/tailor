#!/usr/bin/env sh
# Usage: script/antlr
# Executes ANTLR Tool on Swift grammar.

set -e

ANTLR_OUT="../src/main/java/com/sleekbyte/tailor/swift"
JAVA_PKG="com.sleekbyte.tailor.swift"

# Generate the Swift lexer, parser, and listener
pushd . >/dev/null
cd grammar
alias antlr='antlr4'
antlr Swift.g4 -package "${JAVA_PKG}" -o "${ANTLR_OUT}"

# Remove ANTLR-generated tokens
rm "${ANTLR_OUT}"/*.tokens
popd >/dev/null
