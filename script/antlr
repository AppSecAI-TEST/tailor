#!/bin/sh
# Usage: script/antlr
# Install and execute ANTLR Tool.

set -e

# Installs ANTLR and creates appropriate aliases
if [[ ! -f /usr/local/lib/antlr-4.5-complete.jar ]]; then
  cd /usr/local/lib
  curl -O http://www.antlr.org/download/antlr-4.5-complete.jar
fi
export CLASSPATH=".:/usr/local/lib/antlr-4.5-complete.jar:$CLASSPATH"
cd grammar
java -jar /usr/local/lib/antlr-4.5-complete.jar -Dlanguage=Python3 Swift.g4 -o ../tailor/swift/
