apply plugin: 'java'

sourceSets {
    main {
        java {
            srcDirs += file('src/main/gen')
        }
    }
}

apply plugin: 'antlr'

generateGrammarSource {
    arguments += ['-package', 'com.sleekbyte.tailor.antlr']
    outputDirectory = file('src/main/gen/com/sleekbyte/tailor/antlr')
}

clean {
    delete file('src/main/gen')
}

apply plugin: 'application'

mainClassName = 'com.sleekbyte.tailor.Tailor'

run {
    if(project.hasProperty('args')){
        args project.args.split('\\s+')
    }
}

repositories {
    jcenter()
}

dependencies {
    antlr 'org.antlr:antlr4:4.5'
    compile 'commons-cli:commons-cli:1.3.1'
    compile 'org.antlr:antlr4-runtime:4.5'
    testCompile 'junit:junit:4.12'
    testCompile 'org.mockito:mockito-core:1.+'
}
